/* --- Base Styles --- */
body {
    @apply bg-background text-text-primary font-sans antialiased overflow-hidden;
}

/* --- Animations --- */
@keyframes page-enter {
    0% { opacity: 0; transform: translateY(8px); }
    100% { opacity: 1; transform: translateY(0); }
}
.page-enter { 
    animation: page-enter 0.4s ease-out forwards;
}
.stagger-item { 
    opacity: 0; 
    animation: page-enter 0.4s ease-out forwards;
    animation-delay: var(--stagger-delay, 0ms); 
}

/* --- Loaders --- */
.loader {
    width: 48px; 
    height: 48px; 
    border: 4px solid theme('colors.border');
    border-bottom-color: theme('colors.primary');
    border-radius: 50%;
    display: inline-block;
    animation: rotation 1s linear infinite;
}
@keyframes rotation { 
    from { transform: rotate(0deg); } 
    to { transform: rotate(360deg); } 
}

/* --- Base Component Styles --- */
/* Input fields */
.input-field {
    @apply block w-full h-10 px-3 bg-background border border-border rounded-md text-sm text-text-primary placeholder-text-secondary;
    @apply focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 ease-in-out;
}
select.input-field {
    @apply h-10 !py-0;
}
textarea.input-field {
    @apply h-auto py-2;
}

/* Primary buttons */
.button-primary {
    @apply inline-flex items-center justify-center h-10 px-5 bg-primary text-white rounded-md font-semibold text-sm shadow-sm;
    @apply hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary focus:ring-offset-background;
    @apply transition-all duration-200 ease-in-out;
    @apply disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:bg-primary;
}
/* Secondary/Ghost buttons */
.button-secondary {
     @apply inline-flex items-center justify-center h-10 px-4 bg-surface text-text-primary rounded-md font-semibold text-sm border border-border shadow-sm;
     @apply hover:bg-border/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary focus:ring-offset-background;
     @apply transition-all duration-200 ease-in-out;
}
/* Danger buttons (for clear/delete) */
.button-danger {
     @apply inline-flex items-center justify-center h-9 px-4 bg-transparent text-sm text-text-secondary;
     @apply hover:bg-error/10 hover:text-error rounded-md transition-colors duration-150;
}

/* --- Sidebar --- */
.nav-item {
     @apply flex items-center w-full text-left px-3 py-2 rounded-md text-sm transition-all duration-200 text-text-secondary;
     @apply hover:bg-white/5 hover:text-text-primary;
}
.nav-item.active {
    @apply bg-primary font-semibold text-white;
}
.nav-item .lucide {
    @apply w-5 h-5 mr-3 shrink-0 transition-all duration-300 ease-in-out -mt-px;
}
.nav-item-text {
    @apply whitespace-nowrap transition-opacity duration-300 ease-in-out;
}


/* --- Collapsed Sidebar Styles --- */
#app-screen.sidebar-collapsed #sidebar {
    @apply lg:w-[72px]; /* Collapsed width */
}
#app-screen.sidebar-collapsed #main-content-wrapper {
    @apply lg:pl-[72px]; /* Match collapsed sidebar width */
}
#app-screen.sidebar-collapsed .nav-item-text,
#app-screen.sidebar-collapsed #user-profile-info,
#app-screen.sidebar-collapsed #logo-text {
    @apply lg:opacity-0 lg:hidden; /* Hide text */
}
#app-screen.sidebar-collapsed .nav-item {
    @apply lg:justify-center; /* Center icons */
}
#app-screen.sidebar-collapsed .nav-item .lucide {
    @apply lg:mr-0;
}
#app-screen.sidebar-collapsed #user-profile-card {
    @apply lg:p-0;
}
#app-screen.sidebar-collapsed #user-avatar {
    @apply lg:mx-auto;
}

/* --- Specific Component Styles --- */
/* Dashboard: Welcome Banner */
.welcome-banner {
    @apply bg-surface p-8 rounded-xl border border-border relative;
}

/* Dashboard: Stat Cards */
.stat-card {
    @apply bg-surface p-6 rounded-xl border border-border;
}
.stat-card-lg {
    @apply bg-surface p-6 rounded-xl border border-border;
}
.stat-card:hover {
    @apply border-primary/50;
}

/* Tool Cards (Method Selection) */
.action-card {
    @apply w-full max-w-[420px] bg-surface p-6 rounded-xl text-left group border border-border;
    @apply hover:border-primary hover:-translate-y-1 transition-all duration-300 flex flex-col relative cursor-pointer;
}

/* Badge for validation */
.badge-dot {
    @apply flex items-center text-sm font-medium;
}
.badge-dot::before {
    content: '';
    @apply h-2 w-2 rounded-full mr-2.5 shrink-0;
}
.badge-dot-success { @apply text-success; }
.badge-dot-success::before { @apply bg-success; }
.badge-dot-warning { @apply text-warning; }
.badge-dot-warning::before { @apply bg-warning; }
.badge-dot-error { @apply text-error; }
.badge-dot-error::before { @apply bg-error; }

/* Table Styles */
.styled-table {
    @apply w-full text-left table-auto border-collapse;
}
.styled-table thead {
    @apply bg-surface border-b-2 border-border;
}
.styled-table th {
    @apply p-4 font-semibold text-sm text-text-primary tracking-wide;
}
.styled-table tbody tr {
    @apply border-b border-border;
}
.styled-table tbody tr:last-child {
    @apply border-none;
}
.styled-table tr:hover {
    @apply bg-white/5;
}
.styled-table td {
    @apply p-4 text-sm text-text-secondary;
}

.styled-table .table-zebra tbody tr:nth-child(even) {
    @apply bg-white/5;
}
.styled-table .table-zebra tbody tr:nth-child(even):hover {
    @apply bg-white/[.07];
}

/* --- Toggle Switch --- */
.toggle-switch {
    @apply relative inline-block w-10 align-middle select-none transition duration-200 ease-in;
}
.toggle-checkbox {
    @apply absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer;
    @apply border-border;
    right: 1rem;
    transition: right 0.2s ease-in-out;
}
.toggle-checkbox:checked {
    @apply right-0 border-primary;
}
.toggle-label {
    @apply block overflow-hidden h-6 rounded-full bg-border cursor-pointer;
}
.toggle-checkbox:checked + .toggle-label {
    @apply bg-primary;
}