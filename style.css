/* --- Base Styles --- */
body {
    @apply bg-background text-text-primary font-sans antialiased overflow-hidden;
}

/* --- Animations --- */
@keyframes page-enter {
    0% { opacity: 0; transform: translateY(10px); }
    100% { opacity: 1; transform: translateY(0); }
}
.page-enter { 
    animation: page-enter 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; 
}
.stagger-item { 
    opacity: 0; 
    animation: page-enter 0.5s ease-out forwards; 
    animation-delay: var(--stagger-delay, 0ms); 
}

/* --- Loaders --- */
.loader {
    width: 48px; 
    height: 48px; 
    border: 4px solid theme('colors.border');
    border-bottom-color: theme('colors.primary');
    border-radius: 50%;
    display: inline-block;
    animation: rotation 1s linear infinite;
}
@keyframes rotation { 
    from { transform: rotate(0deg); } 
    to { transform: rotate(360deg); } 
}

/* --- Base Component Styles --- */
/* Input fields */
.input-field {
    @apply block w-full h-11 px-4 bg-gray-50 border border-border rounded-lg text-sm text-text-primary placeholder-text-secondary;
    @apply focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 ease-in-out;
}
select.input-field {
    @apply h-11 !py-0;
}
textarea.input-field {
    @apply h-auto py-3;
}

/* Primary buttons */
.button-primary {
    @apply inline-flex items-center justify-center h-11 px-6 bg-primary text-white rounded-lg font-semibold text-sm shadow-sm;
    @apply hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary;
    @apply transform hover:-translate-y-0.5 transition-all duration-200 ease-in-out;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:bg-primary;
}
/* Secondary/Ghost buttons */
.button-secondary {
     @apply inline-flex items-center justify-center h-11 px-4 bg-transparent text-text-secondary rounded-lg font-semibold text-sm;
     @apply hover:bg-gray-100 hover:text-text-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary;
     @apply transition-all duration-200 ease-in-out;
}
/* Danger buttons (for clear/delete) */
.button-danger {
     @apply inline-flex items-center justify-center h-9 px-4 bg-transparent text-sm text-text-secondary;
     @apply hover:bg-error/10 hover:text-error rounded-md transition-colors duration-150;
}

/* --- Sidebar --- */
.nav-item {
     @apply flex items-center w-full text-left px-3 py-2.5 rounded-lg text-sm transition-all duration-200 text-gray-400;
     @apply hover:bg-white/5 hover:text-white;
}
.nav-item.active {
    @apply bg-primary font-semibold text-white shadow-lg;
}
.nav-item .lucide {
    @apply w-5 h-5 mr-3 shrink-0 transition-all duration-300 ease-in-out;
}
.nav-item-text {
    @apply whitespace-nowrap transition-opacity duration-300 ease-in-out;
}

/* --- NEW: Collapsed Sidebar Styles --- */
#app-screen.sidebar-collapsed #sidebar {
    @apply lg:w-[76px]; /* New collapsed width */
}
#app-screen.sidebar-collapsed #main-content-wrapper {
    @apply lg:pl-[76px]; /* Match collapsed sidebar width */
}
#app-screen.sidebar-collapsed .nav-item-text,
#app-screen.sidebar-collapsed #user-profile-info,
#app-screen.sidebar-collapsed #logo-text {
    @apply lg:opacity-0 lg:hidden; /* Hide text */
}
#app-screen.sidebar-collapsed .nav-item {
    @apply lg:justify-center; /* Center icons */
}
#app-screen.sidebar-collapsed .nav-item .lucide {
    @apply lg:mr-0;
}
#app-screen.sidebar-collapsed #user-profile-card {
    @apply lg:p-0;
}
#app-screen.sidebar-collapsed #user-avatar {
    @apply lg:mx-auto;
}
#app-screen.sidebar-collapsed #collapse-btn .lucide {
    @apply lg:rotate-180; /* Rotate chevron */
}

/* --- Specific Component Styles --- */
/* Dashboard: Welcome Banner */
.welcome-banner {
    @apply bg-gradient-to-r from-primary to-indigo-700 text-white p-8 rounded-2xl shadow-lg relative overflow-hidden;
}

/* Dashboard: Stat Cards */
.stat-card {
    @apply bg-surface p-6 rounded-2xl shadow-sm border border-border;
    @apply transition-all duration-300;
}
.stat-card-lg {
    @apply bg-surface p-6 rounded-2xl shadow-sm border border-border;
    @apply transition-all duration-300;
}
.stat-card:hover {
    @apply shadow-lg -translate-y-1;
}

/* Tool Cards (Method Selection) */
.action-card {
    @apply w-full max-w-[420px] bg-surface p-6 rounded-2xl shadow-sm text-left group border border-border;
    @apply hover:shadow-lg hover:border-primary/50 hover:-translate-y-1 transition-all duration-300 flex flex-col relative cursor-pointer;
}

/* Badge for validation */
.badge-dot {
    @apply flex items-center text-sm font-medium;
}
.badge-dot::before {
    content: '';
    @apply h-2 w-2 rounded-full mr-3 shrink-0;
}
.badge-dot-secondary { @apply text-secondary; }
.badge-dot-secondary::before { @apply bg-secondary; }
.badge-dot-warning { @apply text-warning-amber; }
.badge-dot-warning::before { @apply bg-warning-amber; }
.badge-dot-error { @apply text-error; }
.badge-dot-error::before { @apply bg-error; }

/* Table Styles */
.styled-table {
    @apply w-full text-left table-auto;
}
.styled-table thead {
    @apply bg-gray-50 border-b border-border;
}
.styled-table th {
    @apply p-4 font-semibold text-sm uppercase text-text-secondary tracking-wider;
}
.styled-table tbody {
    @apply divide-y divide-border;
}
.styled-table tr:hover {
    @apply bg-gray-50;
}
.styled-table td {
    @apply p-4 text-sm text-text-primary;
}
.styled-table .table-zebra tbody tr:nth-child(even) {
    @apply bg-gray-50/50;
}
.styled-table .table-zebra tbody tr:nth-child(even):hover {
    @apply bg-gray-50;
}

